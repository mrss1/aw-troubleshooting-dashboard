<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Troubleshooting Checklist</title>
    <style>
      /* General styling */
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f9;
        color: #333;
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
      }

      h1 {
        text-align: center;
        color: #4a90e2;
      }

      .container {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        padding: 20px;
        width: 100%;
        max-width: 600px;
      }

      .device-tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 2px solid #ddd;
      }

      .device-tab {
        padding: 10px 20px;
        cursor: pointer;
        background-color: #f4f4f9;
        border: 1px solid #ddd;
        border-radius: 5px 5px 0 0;
        margin-right: 5px;
        transition: 0.25s linear;
      }

      .device-tab:hover {
        background-color: #4a91e26b;
      }

      .device-tab.active {
        color: #ffffff;
        background-color: #4a90e2;
        border-bottom: 2px solid white;
        border: 1px solid #4a90e2;
      }

      .device-content {
        display: none;
      }

      .device-content.active {
        display: block;
      }

      .tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 2px solid #ddd;
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        background-color: #f4f4f9;
        border: 1px solid #ddd;
        border-radius: 5px 5px 0 0;
        margin-right: 5px;
        transition: 0.25s linear;
      }

      .tab:hover {
        background-color: #4a91e26b;
      }

      .tab.active {
        color: #ffffff;
        background-color: #4a90e2;
        border-bottom: 2px solid white;
        border: 1px solid #4a90e2;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .form-group {
        margin-bottom: 15px;
      }

      label {
        font-weight: bold;
        color: #4a90e2;
      }

      select,
      textarea,
      input {
        width: calc(100% - 2px);
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-top: 5px;
        font-size: 16px;
      }

      select {
        cursor: pointer;
      }

      textarea {
        resize: none;
        background-color: #f9f9f9;
      }

      .text-area-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      textarea[readonly] {
        background-color: #f0f8ff;
        font-size: 15px;
        font-family: Arial, sans-serif;
        color: #333;
        padding: 10px;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>AirWatch Troubleshooting Dashboard</h1>

      <div class="device-tabs">
        <div class="device-tab active" onclick="showDeviceTab('iOS')">
          iPhone/iPad
        </div>
        <div class="device-tab" onclick="showDeviceTab('Mac')">Mac</div>
        <div class="device-tab" onclick="showDeviceTab('Android')">Android</div>
      </div>

      <div id="iOS" class="device-content active">
        <div class="tabs">
          <div class="tab active" onclick="showTab('iOS-checklistTab')">
            Checklist
          </div>
          <div class="tab" onclick="showTab('iOS-howToTab')">How To's</div>
        </div>

        <div id="iOS-checklistTab" class="tab-content active">
          <div class="form-group">
            <label for="failurePoint">Failure Point</label>
            <select id="failurePoint" onchange="updateSymptoms('iOS')">
              <option value="">Select Failure Point</option>
              <option value="Re-enter Password">Re-enter Password</option>
              <option value="Email not Syncing">Email not Syncing</option>
            </select>
          </div>

          <div class="form-group">
            <label for="symptom">Symptom</label>
            <select id="symptom" onchange="populateDetails('iOS')">
              <option value="">Select Symptom</option>
            </select>
          </div>

          <div class="text-area-container">
            <div class="form-group">
              <label for="correctiveSteps">Corrective Steps</label>
              <textarea id="correctiveSteps" rows="4" readonly></textarea>
            </div>

            <div class="form-group">
              <label for="cause">Cause</label>
              <textarea id="cause" rows="2" readonly></textarea>
            </div>

            <div class="form-group">
              <label for="notes">Notes</label>
              <textarea id="notes" rows="2" readonly></textarea>
            </div>
          </div>
        </div>

        <div id="iOS-howToTab" class="tab-content">
          <h2>How To's</h2>
          <div class="form-group">
            <label for="howToCategory">Category</label>
            <select id="howToCategory" onchange="updateHowToSteps('iOS')">
              <option value="">Select Category</option>
              <option value="Reset Device">Reset Device</option>
              <option value="Setup Email Account">Setup Email Account</option>
            </select>
          </div>

          <div class="form-group">
            <label for="howToSteps">Steps</label>
            <textarea id="howToSteps" rows="6" readonly></textarea>
          </div>

          <div class="form-group">
            <label for="howToNotes">Notes</label>
            <textarea id="howToNotes" rows="3" readonly></textarea>
          </div>
        </div>
      </div>

      <div id="Mac" class="device-content">
        <div class="tabs">
          <div class="tab active" onclick="showTab('Mac-checklistTab')">
            Checklist
          </div>
          <div class="tab" onclick="showTab('Mac-howToTab')">How To's</div>
        </div>

        <div id="Mac-checklistTab" class="tab-content active">
          <div class="form-group">
            <label for="failurePointMac">Failure Point</label>
            <select id="failurePointMac" onchange="updateSymptoms('Mac')">
              <option value="">Select Failure Point</option>
              <option value="WiFi Issues">WiFi Issues</option>
            </select>
          </div>

          <div class="form-group">
            <label for="symptomMac">Symptom</label>
            <select id="symptomMac" onchange="populateDetails('Mac')">
              <option value="">Select Symptom</option>
            </select>
          </div>

          <div class="text-area-container">
            <div class="form-group">
              <label for="correctiveStepsMac">Corrective Steps</label>
              <textarea id="correctiveStepsMac" rows="4" readonly></textarea>
            </div>

            <div class="form-group">
              <label for="causeMac">Cause</label>
              <textarea id="causeMac" rows="2" readonly></textarea>
            </div>

            <div class="form-group">
              <label for="notesMac">Notes</label>
              <textarea id="notesMac" rows="2" readonly></textarea>
            </div>
          </div>
        </div>

        <div id="Mac-howToTab" class="tab-content">
          <h2>How To's</h2>
          <div class="form-group">
            <label for="howToCategoryMac">Category</label>
            <select id="howToCategoryMac" onchange="updateHowToSteps('Mac')">
              <option value="">Select Category</option>
              <option value="Set Up WiFi">Set Up WiFi</option>
            </select>
          </div>

          <div class="form-group">
            <label for="howToStepsMac">Steps</label>
            <textarea id="howToStepsMac" rows="6" readonly></textarea>
          </div>

          <div class="form-group">
            <label for="howToNotesMac">Notes</label>
            <textarea id="howToNotesMac" rows="3" readonly></textarea>
          </div>
        </div>
      </div>

      <div id="Android" class="device-content">
        <div class="tabs">
          <div class="tab active" onclick="showTab('Android-checklistTab')">
            Checklist
          </div>
          <div class="tab" onclick="showTab('Android-howToTab')">How To's</div>
        </div>

        <div id="Android-checklistTab" class="tab-content active">
          <div class="form-group">
            <label for="failurePointAndroid">Failure Point</label>
            <select
              id="failurePointAndroid"
              onchange="updateSymptoms('Android')"
            >
              <option value="">Select Failure Point</option>
              <option value="App Crashing">App Crashing</option>
            </select>
          </div>

          <div class="form-group">
            <label for="symptomAndroid">Symptom</label>
            <select id="symptomAndroid" onchange="populateDetails('Android')">
              <option value="">Select Symptom</option>
            </select>
          </div>

          <div class="text-area-container">
            <div class="form-group">
              <label for="correctiveStepsAndroid">Corrective Steps</label>
              <textarea
                id="correctiveStepsAndroid"
                rows="4"
                readonly
              ></textarea>
            </div>

            <div class="form-group">
              <label for="causeAndroid">Cause</label>
              <textarea id="causeAndroid" rows="2" readonly></textarea>
            </div>

            <div class="form-group">
              <label for="notesAndroid">Notes</label>
              <textarea id="notesAndroid" rows="2" readonly></textarea>
            </div>
          </div>
        </div>

        <div id="Android-howToTab" class="tab-content">
          <h2>How To's</h2>
          <div class="form-group">
            <label for="howToCategoryAndroid">Category</label>
            <select
              id="howToCategoryAndroid"
              onchange="updateHowToSteps('Android')"
            >
              <option value="">Select Category</option>
              <option value="Clear Cache">Clear Cache</option>
            </select>
          </div>

          <div class="form-group">
            <label for="howToStepsAndroid">Steps</label>
            <textarea id="howToStepsAndroid" rows="6" readonly></textarea>
          </div>

          <div class="form-group">
            <label for="howToNotesAndroid">Notes</label>
            <textarea id="howToNotesAndroid" rows="3" readonly></textarea>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Data structure holding troubleshooting information
      let troubleshootingData = {
        iOS: {
          "Re-enter Password": {
            "Prompt to enter username is not given": {
              Cause: "Wrong username was entered",
              CorrectiveSteps:
                "Clear Safari 'History and Website Data' > Settings > Safari",
              Notes:
                "If the wrong username is entered and 'Remember this setting' is checked, prompt will not be given again.",
            },
            "Error 'Enter message' is given after entering username": {
              Cause: "Request Desktop Website is turned On",
              CorrectiveSteps:
                "Turn 'All Websites' Off > Settings > Safari > Request Desktop Website",
              Notes:
                "For iPads, some iOS versions have this setting turned on by default. Must be turned off to access MyPaylinks.",
            },
            "Microsoft Authenticator installed": {
              Cause: "Microsoft Authenticator is installed",
              CorrectiveSteps:
                "Airwatch console App tab, have user uninstall Authenticator that is not 'Managed'",
              Notes: "App can be re-installed after password is updated.",
            },
          },
          "Email not Syncing": {
            "No new emails, Unable to connect to WiFi, Other apps may lose internet access":
              {
                Cause:
                  "Device record in AW Console needs to be deleted for use by another user",
                CorrectiveSteps:
                  "Reset Network Settings > Settings > General > Transfer or Reset iPhone > Reset > Reset Network Settings > Enter passcode > Reset Network Settings",
                Notes: "This problem is a result of a device switch.",
              },
          },
        },
        Mac: {
          "WiFi Issues": {
            "Cannot connect to WiFi": {
              Cause: "Incorrect network settings",
              CorrectiveSteps:
                "Go to System Preferences > Network > WiFi > Advanced, and remove the problematic network. Then reconnect.",
              Notes: "Make sure to verify the WiFi password is correct.",
            },
          },
        },
        Android: {
          "App Crashing": {
            "App crashes on launch": {
              Cause: "Corrupted app data",
              CorrectiveSteps:
                "Go to Settings > Apps > [App Name] > Storage > Clear Data and Clear Cache. Restart the app.",
              Notes: "Ensure the app is updated to the latest version.",
            },
          },
        },
      };

      // Data structure holding How To information
      let howToData = {
        iOS: {
          "Reset Device": {
            Steps:
              "1. Go to Settings > General.\n2. Tap Reset.\n3. Choose 'Erase All Content and Settings'.\n4. Enter your passcode and confirm.",
            Notes:
              "This will erase all data. Make sure to back up important information.",
          },
          "Setup Email Account": {
            Steps:
              "1. Open the Mail app.\n2. Enter your email address and password.\n3. Follow the prompts to complete setup.",
            Notes: "For corporate email, use the provided server settings.",
          },
        },
        Mac: {
          "Set Up WiFi": {
            Steps:
              "1. Click on the WiFi icon in the menu bar.\n2. Select the desired network.\n3. Enter the WiFi password.",
            Notes: "Ensure the WiFi network is secure.",
          },
        },
        Android: {
          "Clear Cache": {
            Steps:
              "1. Go to Settings > Apps.\n2. Select the app.\n3. Tap on Storage > Clear Cache.",
            Notes: "Clearing cache can resolve many app issues.",
          },
        },
      };

      // Function to update symptoms dropdown based on selected failure point
      function updateSymptoms(deviceType) {
        const failurePointSelect = document.getElementById(
          `failurePoint${deviceType === "iOS" ? "" : deviceType}`
        );
        const symptomSelect = document.getElementById(
          `symptom${deviceType === "iOS" ? "" : deviceType}`
        );
        const failurePoint = failurePointSelect.value;

        // Clear symptoms dropdown and form details
        symptomSelect.innerHTML = '<option value="">Select Symptom</option>';
        clearFields(deviceType);

        // Populate symptoms if a valid failure point is selected
        if (failurePoint && troubleshootingData[deviceType][failurePoint]) {
          for (const symptom in troubleshootingData[deviceType][failurePoint]) {
            const option = document.createElement("option");
            option.value = symptom;
            option.textContent = symptom;
            symptomSelect.appendChild(option);
          }
        }
      }

      // Function to populate symptom details based on selection
      function populateDetails(deviceType) {
        const failurePointSelect = document.getElementById(
          `failurePoint${deviceType === "iOS" ? "" : deviceType}`
        );
        const symptomSelect = document.getElementById(
          `symptom${deviceType === "iOS" ? "" : deviceType}`
        );

        const failurePoint = failurePointSelect.value;
        const symptom = symptomSelect.value;

        const correctiveSteps = document.getElementById(
          `correctiveSteps${deviceType === "iOS" ? "" : deviceType}`
        );
        const cause = document.getElementById(
          `cause${deviceType === "iOS" ? "" : deviceType}`
        );
        const notes = document.getElementById(
          `notes${deviceType === "iOS" ? "" : deviceType}`
        );

        // Clear the form if no failure point or symptom is selected
        if (
          !failurePoint ||
          !symptom ||
          !troubleshootingData[deviceType][failurePoint][symptom]
        ) {
          clearFields(deviceType);
          return;
        }

        // Populate form details based on the selected symptom
        const details = troubleshootingData[deviceType][failurePoint][symptom];
        correctiveSteps.value = details.CorrectiveSteps;
        cause.value = details.Cause;
        notes.value = details.Notes;
      }

      // Function to clear all fields
      function clearFields(deviceType) {
        document.getElementById(
          `correctiveSteps${deviceType === "iOS" ? "" : deviceType}`
        ).value = "";
        document.getElementById(
          `cause${deviceType === "iOS" ? "" : deviceType}`
        ).value = "";
        document.getElementById(
          `notes${deviceType === "iOS" ? "" : deviceType}`
        ).value = "";
      }

      // Function to populate the "How To's" dropdown
      function updateHowToSteps(deviceType) {
        const howToCategorySelect = document.getElementById(
          `howToCategory${deviceType === "iOS" ? "" : deviceType}`
        );
        const howToSteps = document.getElementById(
          `howToSteps${deviceType === "iOS" ? "" : deviceType}`
        );
        const howToNotes = document.getElementById(
          `howToNotes${deviceType === "iOS" ? "" : deviceType}`
        );
        const howToCategory = howToCategorySelect.value;

        // Clear fields
        howToSteps.value = "";
        howToNotes.value = "";

        // Populate fields if a valid category is selected
        if (howToCategory && howToData[deviceType][howToCategory]) {
          howToSteps.value = howToData[deviceType][howToCategory].Steps;
          howToNotes.value = howToData[deviceType][howToCategory].Notes;
        }
      }

      // Function to show the active device tab
      function showDeviceTab(deviceId) {
        const deviceTabs = document.querySelectorAll(".device-tab");
        const deviceContents = document.querySelectorAll(".device-content");

        // Remove active class from all device tabs and hide all device content
        deviceTabs.forEach((tab) => tab.classList.remove("active"));
        deviceContents.forEach((content) => content.classList.remove("active"));

        // Add active class to the selected device tab and show the content
        document
          .querySelector(`.device-tab[onclick="showDeviceTab('${deviceId}')"]`)
          .classList.add("active");
        document.getElementById(deviceId).classList.add("active");
      }

      // Function to show the active tab within each device
      function showTab(tabId) {
        const tabGroup = tabId.split("-")[0];
        const tabs = document.querySelectorAll(`#${tabGroup} .tab`);
        const contents = document.querySelectorAll(`#${tabGroup} .tab-content`);

        // Remove active class from all tabs and hide all content
        tabs.forEach((tab) => tab.classList.remove("active"));
        contents.forEach((content) => content.classList.remove("active"));

        // Add active class to the selected tab and show the content
        document
          .querySelector(`#${tabGroup} .tab[onclick="showTab('${tabId}')"]`)
          .classList.add("active");
        document.getElementById(tabId).classList.add("active");
      }

      // Initialize the page to show the default iOS tab
      window.onload = function () {
        showDeviceTab("iOS");
        showTab("iOS-checklistTab");
      };
    </script>
  </body>
</html>
